# CryptoCompare Data Handler - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# API CONFIGURATION
# =============================================================================

# CryptoCompare API Key (required for most endpoints)
# Get your API key from: https://www.cryptocompare.com/cryptopian/api-keys
CCDATA_API_KEY=your_api_key_here

# API Base URLs (usually don't need to change these)
MIN_API_BASE_URL=https://min-api.cryptocompare.com/data
DATA_API_BASE_URL=https://data-api.cryptocompare.com

# API Request Configuration
API_REQUEST_TIMEOUT=30
API_MAX_RETRIES=3
API_RETRY_DELAY=1.0

# Rate Limiting Configuration
API_RATE_LIMIT_PER_SECOND=100
API_RATE_LIMIT_PER_MINUTE=6000
API_RATE_LIMIT_PER_HOUR=300000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SingleStore Database Connection
S2_HOST=localhost
S2_PORT=3306
S2_USER=your_username
S2_PASSWORD=your_password
S2_DATABASE=ccdata

# Database Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# INGESTION CONFIGURATION
# =============================================================================

# Batch Processing Settings
INGESTION_BATCH_SIZE=1000
INGESTION_MAX_API_LIMIT=5000
INGESTION_API_CALL_DELAY=0.1
INGESTION_CHUNK_SIZE=10000

# Parallel Processing
INGESTION_PARALLEL_WORKERS=4

# Backfill Configuration
INGESTION_BACKFILL_ENABLED=true
INGESTION_MAX_BACKFILL_DAYS=365

# Metadata Processing
METADATA_FULL_REFRESH=false
METADATA_CHANGE_DETECTION=true

# Error Handling
INGESTION_MAX_CONSECUTIVE_FAILURES=5
INGESTION_FAILURE_BACKOFF_MULTIPLIER=2.0
INGESTION_MAX_FAILURE_BACKOFF=300

# Futures-specific Configuration
FUTURES_EXCHANGES=binance,okex,huobi,bybit,ftx
FUTURES_INSTRUMENT_STATUSES=ACTIVE,EXPIRED

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Redis Configuration (for distributed caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_SSL=false

# Cache Settings
CACHE_DEFAULT_TTL=1800
CACHE_MAX_MEMORY_ENTRIES=2000
CACHE_CLEANUP_INTERVAL=300

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Monitoring Features
MONITORING_METRICS_ENABLED=true
MONITORING_PERFORMANCE_ENABLED=true
MONITORING_ALERT_ON_FAILURE=true
MONITORING_ALERT_CONSECUTIVE_FAILURES=3
MONITORING_HEALTH_CHECK_INTERVAL=300
MONITORING_METRICS_RETENTION_DAYS=30

# Prometheus Metrics (optional)
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=8000
PROMETHEUS_HOST=0.0.0.0

# Grafana Integration (optional)
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=
GRAFANA_ORG_ID=1

# InfluxDB Integration (optional)
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=
INFLUXDB_ORG=
INFLUXDB_BUCKET=ccdata_metrics

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log Format
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# File Logging
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/ingestion.log
LOG_FILE_MAX_BYTES=10485760
LOG_FILE_BACKUP_COUNT=5

# Console Logging
LOG_CONSOLE_ENABLED=true

# Structured Logging (optional)
STRUCTURED_LOGGING=false
LOG_JSON_FORMAT=false

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug Mode
DEBUG=false

# Timezone
TZ=UTC

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# SSL/TLS Configuration
SSL_VERIFY=true
SSL_CERT_PATH=
SSL_KEY_PATH=

# API Security
API_KEY_ROTATION_ENABLED=false
API_KEY_ROTATION_INTERVAL_DAYS=90

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Async Configuration
ASYNC_SEMAPHORE_LIMIT=100
ASYNC_TIMEOUT=300

# Memory Management
MAX_MEMORY_USAGE_MB=2048
MEMORY_MONITORING_ENABLED=true

# Disk I/O
TEMP_DIR=/tmp/ccdata
CLEANUP_TEMP_FILES=true

# =============================================================================
# NOTIFICATION CONFIGURATION (Optional)
# =============================================================================

# Email Notifications
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@yourcompany.com
SMTP_TO=admin@yourcompany.com

# Slack Notifications
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#data-alerts

# Discord Notifications
DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development Features (only for development environment)
DEV_MODE=false
DEV_MOCK_API_CALLS=false
DEV_SAMPLE_DATA_SIZE=100
DEV_SKIP_VALIDATION=false

# Testing Configuration
TEST_DATABASE_URL=sqlite:///test.db
TEST_API_MOCK=true
TEST_PARALLEL_WORKERS=2

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/backups/ccdata

# Recovery Configuration
RECOVERY_ENABLED=true
RECOVERY_CHECKPOINT_INTERVAL=3600

# =============================================================================
# ADVANCED FEATURES
# =============================================================================

# Feature Flags
FEATURE_REAL_TIME_INGESTION=false
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_DATA_QUALITY_CHECKS=true
FEATURE_AUTOMATIC_SCALING=false

# Experimental Features
EXPERIMENTAL_BATCH_OPTIMIZATION=false
EXPERIMENTAL_PREDICTIVE_CACHING=false
EXPERIMENTAL_ML_ANOMALY_DETECTION=false

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# AWS Configuration (if using AWS services)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=

# Google Cloud Configuration (if using GCP services)
GOOGLE_APPLICATION_CREDENTIALS=
GCP_PROJECT_ID=
GCP_STORAGE_BUCKET=

# Azure Configuration (if using Azure services)
AZURE_STORAGE_CONNECTION_STRING=
AZURE_STORAGE_CONTAINER=

# =============================================================================
# CUSTOM CONFIGURATION
# =============================================================================

# Add your custom environment variables here
# CUSTOM_SETTING_1=value1
# CUSTOM_SETTING_2=value2

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit the actual .env file to version control
# 2. Keep sensitive information like API keys and passwords secure
# 3. Use different .env files for different environments (.env.development, .env.production)
# 4. Validate all configuration values before starting the application
# 5. Consider using a secrets management system for production environments
# 6. Regularly rotate API keys and passwords
# 7. Monitor resource usage and adjust limits accordingly
# 8. Test configuration changes in a development environment first

# =============================================================================
# QUICK START MINIMAL CONFIGURATION
# =============================================================================

# For a quick start, you only need to set these essential variables:
# CCDATA_API_KEY=your_api_key_here
# S2_HOST=your_database_host
# S2_USER=your_database_user
# S2_PASSWORD=your_database_password
# S2_DATABASE=your_database_name

# All other settings have sensible defaults and can be adjusted as needed.